<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>Portal de Filmes</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">

    <script src="https://kit.fontawesome.com/5d5ddc73af.js" crossorigin="anonymous"></script>
</head>

<body>

    <main class="container main">
        <section class="row noticias">
            <div class="col-12">
                <div class="row">
                    <div class="col-12">
                        <h1 class="tit_lancamentos"><strong>Notícias & Novidades</strong></h1>
                    </div>
                </div>
                <div class="row">
                    <div class="col-12">
                        <div class="card-columns" id="lista_Novidades">
                            <div class="card">
                                <img src="https://source.unsplash.com/random/150x100?sig=1" class="card-img-top" alt="Imagem noticia">
                                <div class="card-body">
                                    <h5 class="card-title">Título da notícia</h5>
                                    <p class="card-text">This is a wider card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.</p>
                                    <p class="card-text"><small class="text-muted">04/10/2020</small></p>
                                </div>
                            </div>
                            <div class="card">
                                <img src="https://source.unsplash.com/random/150x150?sig=2" class="card-img-top" alt="Imagem noticia">
                                <div class="card-body">
                                    <h5 class="card-title">Título da notícia</h5>
                                    <p class="card-text">This is a wider card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.</p>
                                    <p class="card-text"><small class="text-muted">04/10/2020</small></p>
                                </div>
                            </div>
                            <div class="card">
                                <img src="https://source.unsplash.com/random/100x150?sig=3" class="card-img-top" alt="Imagem noticia">
                                <div class="card-body">
                                    <h5 class="card-title">Título da notícia</h5>
                                    <p class="card-text">This is a wider card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.</p>
                                    <p class="card-text"><small class="text-muted">04/10/2020</small></p>
                                </div>
                            </div>
                            <div class="card mb-3">
                                <img src="https://source.unsplash.com/random/300x100?sig=4" class="card-img-top" alt="Imagem noticia">
                                <div class="card-body">
                                    <h5 class="card-title">Título da notícia</h5>
                                    <p class="card-text">This is a wider card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.</p>
                                    <p class="card-text"><small class="text-muted">04/10/2020</small></p>
                                </div>
                            </div>
                            <div class="card mb-3">
                                <img src="https://source.unsplash.com/random/?sig=5" class="card-img-top" alt="...">
                                <div class="card-body">
                                    <h5 class="card-title">Novidade</h5>
                                    <p class="card-text">This is a wider card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.</p>
                                    <p class="card-text"><small class="text-muted">04/10/2020</small></p>
                                </div>
                            </div>
                            <div class="card mb-3">
                                <div class="card-body">
                                    <h5 class="card-title">Novidade</h5>
                                    <p class="card-text">This is a wider card with supporting text below as a natural lead-in is a wider card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.</p>
                                    <p class="card-text"><small class="text-muted">04/10/2020</small></p>
                                </div>
                            </div>
                            <div class="card mb-3">
                                <img src="https://source.unsplash.com/random/?sig=6" class="card-img-top" alt="...">
                                <div class="card-body">
                                    <h5 class="card-title">Novidade</h5>
                                    <p class="card-text">This is a wider card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.</p>
                                    <p class="card-text"><small class="text-muted">04/10/2020</small></p>
                                </div>
                            </div>
                            <div class="card mb-3">
                                <div class="card-body">
                                    <h5 class="card-title">Novidade</h5>
                                    <p class="card-text">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Cupiditate commodi fugit labore fugiat molestias, eum neque error, odit inventore aut laborum numquam itaque vel aspernatur eius recusandae vitae at provident
                                        cum porro libero exercitationem dignissimos! Asperiores quae deserunt suscipit ad! A eaque ipsum, necessitatibus doloribus, tempora animi velit explicabo quidem fuga eligendi, id officia? Nihil distinctio error
                                        sint officiis facere dicta aspernatur assumenda odit adipisci eveniet sit repellat, quos odio. Veritatis, vitae eveniet. Nobis soluta culpa fugit est ut veniam magnam fuga ducimus quam, quidem quia perspiciatis
                                        dolor similique. Asperiores repellendus atque aliquid voluptas molestias nesciunt doloribus excepturi dignissimos architecto?</p>
                                    <p class="card-text"><small class="text-muted">04/10/2020</small></p>
                                </div>
                            </div>
                            <div class="card">
                                <img src="https://source.unsplash.com/random/150x100?sig=7" class="card-img-top" alt="Imagem noticia">
                                <div class="card-body">
                                    <h5 class="card-title">Título da notícia</h5>
                                    <p class="card-text">This is a wider card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.</p>
                                    <p class="card-text"><small class="text-muted">04/10/2020</small></p>
                                </div>
                            </div>
                            <div class="card">
                                <img src="https://source.unsplash.com/random/150x150?sig=8" class="card-img-top" alt="Imagem noticia">
                                <div class="card-body">
                                    <h5 class="card-title">Título da notícia</h5>
                                    <p class="card-text">This is a wider card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.</p>
                                    <p class="card-text"><small class="text-muted">04/10/2020</small></p>
                                </div>
                            </div>
                            <div class="card">
                                <img src="https://source.unsplash.com/random/100x150?sig=9" class="card-img-top" alt="Imagem noticia">
                                <div class="card-body">
                                    <h5 class="card-title">Título da notícia</h5>
                                    <p class="card-text">This is a wider card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.</p>
                                    <p class="card-text"><small class="text-muted">04/10/2020</small></p>
                                </div>
                            </div>
                            <div class="card mb-3">
                                <img src="https://source.unsplash.com/random/300x100?sig=10" class="card-img-top" alt="Imagem noticia">
                                <div class="card-body">
                                    <h5 class="card-title">Título da notícia</h5>
                                    <p class="card-text">This is a wider card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.</p>
                                    <p class="card-text"><small class="text-muted">04/10/2020</small></p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-12 btn_mais">
                        <a onclick="return false;" class="buscarPagina" href="novidades.html">
                            <button class="btn btn-secondary" id="btn_MaisNovidades">+ novidades</button>
                        </a>
                    </div>
                </div>
            </div>
        </section>
    </main>


    <script src="https://code.jquery.com/jquery-3.5.1.min.js">
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous">
    </script>
    <script>
        $(document).ready(function() {
            //Executar requisição AJAX
            $.ajax({
                    // Passar a URL ENDPOINT BASE + /tv/popular
                    url: TMDB_ENDPOINT_BASE + '/tv/popular',
                    data: {
                        api_key: 'c886ee4b91c582c6febb99b18f7c920f',
                        language: 'pt-BR'
                    }
                })
                // Receber o JSON
                .done(function(data) {

                    let codigo = '';

                    // Montar os cards
                    for (i = 0; i < data.results.length; i++) {

                        // Concatenar o código do Card com os dados do JSON
                        id = data.results[i].id;
                        titulo = data.results[i].name;
                        imagemRetrato = 'https://image.tmdb.org/t/p/w500' + data.results[i].poster_path;
                        imagemPaisagem = 'https://image.tmdb.org/t/p/w500' + data.results[i].backdrop_path;
                        descricao = data.results[i].overview;
                        estreia = data.results[i].first_air_date;

                        //Montar conteudo HTML para exibir todos os destaques na pagina destaques
                        if (i % 3 == 0) {
                            codigo += `<div class="card">
                                <img src="${imagemPaisagem}" class="card-img-top" alt="Imagem noticia">
                                <div class="card-body">
                                    <h5 class="card-title">${titulo}</h5>
                                    <p class="card-text">${descricao}</p>
                                    <p class="card-text"><small class="text-muted">${estreia}</small></p>
                                </div>
                            </div>`;
                        } else if (i % 3 == 1) {
                            codigo += `<div class="card">
                                <img src="${imagemRetrato}" class="card-img-top" alt="Imagem noticia">
                                <div class="card-body">
                                    <h5 class="card-title">${titulo}</h5>
                                    <p class="card-text">${descricao}</p>
                                    <p class="card-text"><small class="text-muted">${estreia}</small></p>
                                </div>
                            </div>`;

                        } else {
                            codigo += `<div class="card mb-3">
                                <div class="card-body">
                                    <h5 class="card-title">${titulo}</h5>
                                    <p class="card-text">${descricao}</p>
                                    <p class="card-text"><small class="text-muted">${estreia}</small></p>
                                </div>
                            </div>`;
                        }
                    }
                    // Repassar os cards para a página
                    $('#lista_Novidades').html(codigo);
                });
        });

        $('#btn_MaisNovidades').click(function() {
            //Executar requisição AJAX
            $.ajax({
                    // Passar a URL ENDPOINT BASE + /tv/top_rated
                    url: TMDB_ENDPOINT_BASE + '/tv/top_rated',
                    data: {
                        api_key: 'c886ee4b91c582c6febb99b18f7c920f'
                    }
                })
                // Receber o JSON
                .done(function(data) {

                    let codigo = '';

                    // Montar os cards
                    for (i = 0; i < data.results.length; i++) {

                        // Concatenar o código do Card com os dados do JSON
                        id = data.results[i].id;
                        titulo = data.results[i].name;
                        imagemRetrato = 'https://image.tmdb.org/t/p/w500' + data.results[i].poster_path;
                        imagemPaisagem = 'https://image.tmdb.org/t/p/w500' + data.results[i].backdrop_path;
                        descricao = data.results[i].overview;
                        estreia = data.results[i].first_air_date;

                        //Montar conteudo HTML para exibir todos os destaques na pagina destaques
                        if (i % 3 == 0) {
                            codigo += `<div class="card">
                                <img src="${imagemPaisagem}" class="card-img-top" alt="Imagem noticia">
                                <div class="card-body">
                                    <h5 class="card-title">${titulo}</h5>
                                    <p class="card-text">${descricao}</p>
                                    <p class="card-text"><small class="text-muted">${estreia}</small></p>
                                </div>
                            </div>`;
                        } else if (i % 3 == 1) {
                            codigo += `<div class="card">
                                <img src="${imagemRetrato}" class="card-img-top" alt="Imagem noticia">
                                <div class="card-body">
                                    <h5 class="card-title">${titulo}</h5>
                                    <p class="card-text">${descricao}</p>
                                    <p class="card-text"><small class="text-muted">${estreia}</small></p>
                                </div>
                            </div>`;

                        } else {
                            codigo += `<div class="card mb-3">
                                <div class="card-body">
                                    <h5 class="card-title">${titulo}</h5>
                                    <p class="card-text">${descricao}</p>
                                    <p class="card-text"><small class="text-muted">${estreia}</small></p>
                                </div>
                            </div>`;
                        }
                    }
                    // Repassar os cards para a página
                    $('#lista_Novidades').html(codigo);
                });
        });
    </script>
</body>

</html>